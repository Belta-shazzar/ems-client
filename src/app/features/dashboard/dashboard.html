<div class="p-6 space-y-6">
  <!-- Header -->
  <div
    class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"
  >
    <div>
      <h1 class="text-3xl font-bold text-gray-900">Dashboard</h1>
      <p class="mt-1 text-m text-gray-600">
        Welcome back, {{ currentEmployee?.firstName }}
      </p>
    </div>
    <div class="flex gap-3">
      <a
        *ngIf="isAdmin"
        routerLink="/employees/new"
        class="btn btn-primary flex items-center gap-2"
      >
        <lucide-icon [img]="UserPlus" [size]="20"></lucide-icon>
        <span>Add Employee</span>
      </a>
      <a
        *ngIf="isAdmin"
        routerLink="/departments"
        class="btn btn-secondary flex items-center gap-2"
      >
        <lucide-icon [img]="Building2" [size]="20"></lucide-icon>
        <span>Departments</span>
      </a>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="flex items-center justify-center py-12">
    <div
      class="animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"
    ></div>
  </div>

  <!-- Stats Grid -->
  <div
    *ngIf="!loading"
    class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"
  >
    <!-- Total Employees -->
    <div class="card bg-linear-to-br from-blue-500 to-blue-600 text-white">
      <div class="flex items-center justify-between">
        <div>
          <p class="text-blue-100 text-sm font-medium">Total Employees</p>
          <p class="text-3xl font-bold mt-2">{{ stats.totalEmployees }}</p>
        </div>
        <div class="bg-white/20 p-3 rounded-lg">
          <lucide-icon [img]="Users" [size]="32"></lucide-icon>
        </div>
      </div>
    </div>

    <!-- Active Employees -->
    <div class="card bg-linear-to-br from-green-500 to-green-600 text-white">
      <div class="flex items-center justify-between">
        <div>
          <p class="text-green-100 text-sm font-medium">Active</p>
          <p class="text-3xl font-bold mt-2">{{ stats.activeEmployees }}</p>
        </div>
        <div class="bg-white/20 p-3 rounded-lg">
          <lucide-icon [img]="Activity" [size]="32"></lucide-icon>
        </div>
      </div>
    </div>

    <!-- Pending Employees -->
    <div class="card bg-linear-to-br from-yellow-500 to-yellow-600 text-white">
      <div class="flex items-center justify-between">
        <div>
          <p class="text-yellow-100 text-sm font-medium">Pending</p>
          <p class="text-3xl font-bold mt-2">{{ stats.pendingEmployees }}</p>
        </div>
        <div class="bg-white/20 p-3 rounded-lg">
          <lucide-icon [img]="TrendingUp" [size]="32"></lucide-icon>
        </div>
      </div>
    </div>

    <!-- Total Departments -->
    <div
      *ngIf="isAdmin"
      class="card bg-linear-to-br from-purple-500 to-purple-600 text-white"
    >
      <div class="flex items-center justify-between">
        <div>
          <p class="text-purple-100 text-sm font-medium">Departments</p>
          <p class="text-3xl font-bold mt-2">{{ stats.totalDepartments }}</p>
        </div>
        <div class="bg-white/20 p-3 rounded-lg">
          <lucide-icon [img]="Building2" [size]="32"></lucide-icon>
        </div>
      </div>
    </div>
  </div>

  <!-- Recent Employees -->
  <div *ngIf="!loading && recentEmployees.length > 0" class="card">
    <div class="flex items-center justify-between mb-6">
      <h2 class="text-xl font-bold text-gray-900">Recent Employees</h2>
      <a
        routerLink="/employees"
        class="text-primary-600 hover:text-primary-700 text-sm font-medium"
      >
        View All â†’
      </a>
    </div>

    <div class="space-y-4">
      <div
        *ngFor="let employee of recentEmployees"
        class="flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors"
      >
        <div class="flex items-center gap-4">
          <div
            class="h-12 w-12 bg-primary-100 rounded-full flex items-center justify-center"
          >
            <span class="text-primary-700 font-semibold text-lg">
              {{ employee.firstName.charAt(0)
              }}{{ employee.lastName.charAt(0) }}
            </span>
          </div>
          <div>
            <p class="font-semibold text-gray-900">
              {{ employee.firstName }} {{ employee.lastName }}
            </p>
            <p class="text-sm text-gray-600">{{ employee.email }}</p>
          </div>
        </div>
        <div class="flex items-center gap-3">
          <span
            class="badge"
            [ngClass]="{
              'badge-success': employee.status === 'ACTIVE',
              'badge-warning': employee.status === 'PENDING',
              'badge-danger': employee.status === 'SUSPENDED'
            }"
          >
            {{ employee.status }}
          </span>
          <span class="badge badge-info">{{ employee.role }}</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Quick Actions -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div class="card">
      <h3 class="text-lg font-bold text-gray-900 mb-4">Quick Actions</h3>
      <div class="space-y-3">
        <a
          *ngIf="isAdmin"
          routerLink="/employees/new"
          class="flex items-center gap-3 p-3 bg-primary-50 rounded-lg hover:bg-primary-100 transition-colors"
        >
          <lucide-icon
            [img]="UserPlus"
            class="text-primary-600"
            [size]="24"
          ></lucide-icon>
          <div>
            <p class="font-medium text-gray-900">Add New Employee</p>
            <p class="text-sm text-gray-600">Create a new employee account</p>
          </div>
        </a>
        <a
          routerLink="/employees"
          class="flex items-center gap-3 p-3 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors"
        >
          <lucide-icon
            [img]="Users"
            class="text-blue-600"
            [size]="24"
          ></lucide-icon>
          <div>
            <p class="font-medium text-gray-900">View All Employees</p>
            <p class="text-sm text-gray-600">Browse employee directory</p>
          </div>
        </a>
        <a
          *ngIf="isAdmin"
          routerLink="/departments"
          class="flex items-center gap-3 p-3 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors"
        >
          <lucide-icon
            [img]="Building2"
            class="text-purple-600"
            [size]="24"
          ></lucide-icon>
          <div>
            <p class="font-medium text-gray-900">Manage Departments</p>
            <p class="text-sm text-gray-600">View and edit departments</p>
          </div>
        </a>
      </div>
    </div>

    <!-- System Info -->
    <div class="card">
      <h3 class="text-lg font-bold text-gray-900 mb-4">System Information</h3>
      <div class="space-y-3">
        <div class="flex justify-between items-center">
          <span class="text-gray-600">Your Role</span>
          <span class="badge badge-info">{{ currentEmployee?.role }}</span>
        </div>
        <div class="flex justify-between items-center">
          <span class="text-gray-600">Account Email</span>
          <span class="text-sm font-medium text-gray-900">{{
            currentEmployee?.email
          }}</span>
        </div>
        <div class="flex justify-between items-center">
          <span class="text-gray-600">Access Level</span>
          <span class="text-sm font-medium text-gray-900">
            {{
              isAdmin
                ? "Full Access"
                : isManager
                ? "Department Access"
                : "Limited Access"
            }}
          </span>
        </div>
      </div>
    </div>
  </div>
</div>
